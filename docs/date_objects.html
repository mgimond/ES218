<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Exploratory Data Analysis in R - 5&nbsp; Working with Dates</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./strings.html" rel="next">
<link href="./read_write_files.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="libs/style.css">
</head>

<body class="nav-sidebar docked">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Working with Dates</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./"></a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Intro</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">EDA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./The_R_environment.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The R and RStudio Environments</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Data manipulation</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_objects.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Object Type and Structure</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./read_write_files.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Reading and Writing Data Files</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./date_objects.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Working with Dates</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./strings.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Working with string objects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./boolean.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Relational and boolean operations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./subset_base.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Subsetting and replacing values using base functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dplyr.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Manipulating data tables with <code>dplyr</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./group_by.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Grouping and summarizing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tidyr.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Tidying/reshaping tables with <code>tidyr</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./joins.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Joining Data Tables</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Plots</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./base_plots.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Base plotting environment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lattice_plot.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Lattice plotting environment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ggplot2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">ggplot2 plotting environment</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Univariate</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./univariate_plots.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Visualizing univariate distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./compare_batches.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Comparing data distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./theoretical_qq.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">The theoretical q-q</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rf.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Univariate analysis: Fits and residuals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sl_plot.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Spread-level plots</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./re_express.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Re-expressing values</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./letter_values.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Letter value summaries</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./re_express.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Re-expressing values</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./robustness.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Robustness</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">Bivariate</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bivariate.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Fits and residuals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./resistant_lines.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Resistant lines</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">The third R of EDA: Residuals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discontinuity.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Slicing data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">Two-way tables</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./two_way.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Analyzing two-way tables</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">Miscellaneous</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rmarkdown.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">R markdown document</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spatial.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Mapping variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Data used in ES218</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#creating-datetime-objects" id="toc-creating-datetime-objects" class="nav-link active" data-scroll-target="#creating-datetime-objects"><span class="toc-section-number">5.1</span>  Creating date/time objects</a>
  <ul class="collapse">
  <li><a href="#from-complete-date-strings" id="toc-from-complete-date-strings" class="nav-link" data-scroll-target="#from-complete-date-strings"><span class="toc-section-number">5.1.1</span>  From complete date strings</a></li>
  <li><a href="#setting-and-modifying-timezones" id="toc-setting-and-modifying-timezones" class="nav-link" data-scroll-target="#setting-and-modifying-timezones"><span class="toc-section-number">5.1.2</span>  Setting and modifying timezones</a></li>
  <li><a href="#from-separate-date-elements" id="toc-from-separate-date-elements" class="nav-link" data-scroll-target="#from-separate-date-elements"><span class="toc-section-number">5.1.3</span>  From separate date elements</a></li>
  <li><a href="#padding-time-values" id="toc-padding-time-values" class="nav-link" data-scroll-target="#padding-time-values"><span class="toc-section-number">5.1.4</span>  Padding time values</a></li>
  </ul></li>
  <li><a href="#extracting-date-information" id="toc-extracting-date-information" class="nav-link" data-scroll-target="#extracting-date-information"><span class="toc-section-number">5.2</span>  Extracting date information</a></li>
  <li><a href="#operating-on-dates" id="toc-operating-on-dates" class="nav-link" data-scroll-target="#operating-on-dates"><span class="toc-section-number">5.3</span>  Operating on dates</a></li>
  <li><a href="#formatting-date-objects" id="toc-formatting-date-objects" class="nav-link" data-scroll-target="#formatting-date-objects"><span class="toc-section-number">5.4</span>  Formatting date objects</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Working with Dates</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<div class="cell">

</div>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-2_32a53d27cd00ee7a5150a39d949c148b">
<div class="cell-output-display">

<table class="table" style="width: auto !important; ">
 <thead>
  <tr>
   <th style="text-align:left;color: #555555 !important;background-color: #dddddd !important;text-align: center;border: 1px solid white !important;
             font-family: 'Source Code Pro', 'Open Sans';
             padding:1px !important;
             padding-left:4px !important;
             padding-right:4px !important;
             font-size: 0.8em;
             border-radius: 5px;"> lubridate </th>
   <th style="text-align:left;color: #555555 !important;background-color: #dddddd !important;text-align: center;border: 1px solid white !important;
             font-family: 'Source Code Pro', 'Open Sans';
             padding:1px !important;
             padding-left:4px !important;
             padding-right:4px !important;
             font-size: 0.8em;
             border-radius: 5px;"> stringr </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;color: darkred !important;background-color: #FAE8E8 !important;text-align: center;border: 1px solid white;
             font-family: 'Open Sans', Arial;
             padding:1px !important;
             padding-left:4px !important;
             padding-right:4px !important;
             font-size: 0.8em;
             border-radius: 5px;"> 1.9.1 </td>
   <td style="text-align:left;color: darkred !important;background-color: #FAE8E8 !important;text-align: center;border: 1px solid white;
             font-family: 'Open Sans', Arial;
             padding:1px !important;
             padding-left:4px !important;
             padding-right:4px !important;
             font-size: 0.8em;
             border-radius: 5px;"> 1.5.0 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Date values can be represented in tables as numbers or characters. But to be properly interpreted by R as dates, date values should be converted to an R <strong>date</strong> object class or a <code>POSIXct</code>/<code>POSIXt</code> object class. R provides many facilities to convert and manipulate dates and times, but a package called <code>lubridate</code> makes working with dates/times much easier.</p>
<p>&nbsp;&nbsp;</p>
<section id="creating-datetime-objects" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="creating-datetime-objects"><span class="header-section-number">5.1</span> Creating date/time objects</h2>
<p>&nbsp;&nbsp;</p>
<section id="from-complete-date-strings" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="from-complete-date-strings"><span class="header-section-number">5.1.1</span> From complete date strings</h3>
<p>You can convert many representations of date and time to date objects. For example, let’s create a vector of dates represented as month/day/year character strings,</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-3_9a1dfc8d6cd9b82692972654a1bf9758">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"06/23/2013"</span>, <span class="st">"06/30/2013"</span>, <span class="st">"07/12/2014"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>At this point, R treats the vector <code>x</code> as characters. To force R to interpret these as dates, use <code>lubridate</code>’s <code>mdy</code> function. <code>mdy</code> will convert date strings where the date elements are ordered as month, day and year.</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-4_e2485af13de28e4ee8a08243e4d7f2c9">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>x.date <span class="ot">&lt;-</span> <span class="fu">mdy</span>(x)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x.date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
<p>If you need to specify the time zone, add the parameter <code>tz=</code>. For example, to specify <em>Eastern Standard Time</em>, type:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-5_b14152da6b55d6410377329876d029ff">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>x.date <span class="ot">&lt;-</span> <span class="fu">mdy</span>(x, <span class="at">tz=</span><span class="st">"EST"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>x.date</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2013-06-23 EST" "2013-06-30 EST" "2014-07-12 EST"</code></pre>
</div>
</div>
<p>Note that using the <code>mode</code> or <code>typeof</code> functions will not help us determine if the object is an R <em>date</em> object. This is because a date is stored as a <code>numeric</code> (double) internally. Use the <code>class</code> function instead as shown in the above code chunk.</p>
<p>The <code>mdy</code> function can read in date formats that use different delimiters so that <code>mdy("06/23/2013")</code>, <code>mdy("06-23-2013")</code> and <code>mdy("06.23.2013")</code> are parsed exactly the same so long as the order remains month/day/year.</p>
<p>For different month/day/year arrangements, other <code>lubridate</code> functions need to be used:</p>
<table class="table">
<thead>
<tr class="header">
<th>Functions</th>
<th>Date Format</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>dmy()</code></td>
<td>day/month/year</td>
</tr>
<tr class="even">
<td><code>ymd()</code></td>
<td>year/month/day</td>
</tr>
<tr class="odd">
<td><code>ydm()</code></td>
<td>year/day/month</td>
</tr>
</tbody>
</table>
<p>If your data contains both date <em>and</em> time in a “month/day/year hour:minutes:seconds” format use the <code>mdy_hms</code> function.</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-6_e1569c0229435223133477b1a10d3b7d">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"06/23/2013 03:45:23"</span>, <span class="st">"07/30/2013 14:23:00"</span>, <span class="st">"08/12/2014 18:01:59"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>x.date <span class="ot">&lt;-</span> <span class="fu">mdy_hms</span>(x, <span class="at">tz=</span><span class="st">"EST"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>x.date</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2013-06-23 03:45:23 EST" "2013-07-30 14:23:00 EST" "2014-08-12 18:01:59 EST"</code></pre>
</div>
</div>
<p>The characters <code>_h</code>, <code>_hm</code> or <code>_hms</code> can be appended to any of the four date function names described earlier to accommodate time formats. A few examples follow:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-7_444c55b59f863a77fac40e2251f122e4">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mdy_h</span>(<span class="st">"6/23/2013 3"</span>, <span class="at">tz=</span><span class="st">"EST"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2013-06-23 03:00:00 EST"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dmy_hm</span>(<span class="st">"23/6/2013 3:15"</span>, <span class="at">tz=</span><span class="st">"EST"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2013-06-23 03:15:00 EST"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd_hms</span>(<span class="st">"2013/06/23 3:15:7"</span>, <span class="at">tz=</span><span class="st">"EST"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2013-06-23 03:15:07 EST"</code></pre>
</div>
</div>
<p>Note that adding a time element to the date object will create <code>POSIXct</code> and <code>POSIXt</code> object classes instead of <code>Date</code> object classes.</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-8_957fcdbcdb047ec76cb998ba128b2f6d">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x.date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "POSIXct" "POSIXt" </code></pre>
</div>
</div>
<p>Also, if a timezone is not explicitly defined for a time based date, the function assigns <code>UTC</code> ( Universal Coordinated Time).</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-9_3e3fb28c1944a8f9af8b7c03e9592ae5">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dmy_hm</span>(<span class="st">"23/6/2013 3:15"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2013-06-23 03:15:00 UTC"</code></pre>
</div>
</div>
</section>
<section id="setting-and-modifying-timezones" class="level3" data-number="5.1.2">
<h3 data-number="5.1.2" class="anchored" data-anchor-id="setting-and-modifying-timezones"><span class="header-section-number">5.1.2</span> Setting and modifying timezones</h3>
<p>R does not maintain its own list of timezone names, instead, it relies on the operating system’s naming convention. To list the supported timezone names for your particular R environment, type:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-10_0d6b93f510657135771c51d3efbe3547">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">OlsonNames</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For example, to select Daylight Savings Time type <code>tz = "EST5EDT"</code>.</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-11_44caa597a1584da3d3e3bd205aa042f4">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>x.date <span class="ot">&lt;-</span> <span class="fu">mdy_hms</span>(x, <span class="at">tz=</span><span class="st">"EST5EDT"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>x.date</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2013-06-23 03:45:23 EDT" "2013-07-30 14:23:00 EDT" "2014-08-12 18:01:59 EDT"</code></pre>
</div>
</div>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-12_9cbd2815967b5d237c381f332e0024d4">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x.date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "POSIXct" "POSIXt" </code></pre>
</div>
</div>
<p>If you need to convert the day/time to another timezone, use <code>lubridate</code>’s <code>with_tz()</code> function. For example, to convert <code>x.date</code> from it’s current <code>EST5DST</code> timezone to the <code>US/Alaska</code> time zone, type:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-13_15fa81afb7c56736b9465b7f3c36db90">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with_tz</span>(x.date, <span class="at">tzone =</span> <span class="st">"US/Alaska"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2013-06-22 23:45:23 AKDT" "2013-07-30 10:23:00 AKDT" "2014-08-12 14:01:59 AKDT"</code></pre>
</div>
</div>
<p>Note that the <code>with_tz</code> function will change the timestamp to reflect the new time zone. If you simply want to change the time zone definition and not the timestamp, use the <code>tz()</code> function.</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-14_e35c0df698cf50a690d84e836a0a2328">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tz</span>(x.date) <span class="ot">&lt;-</span> <span class="st">"US/Alaska"</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>x.date</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2013-06-23 03:45:23 AKDT" "2013-07-30 14:23:00 AKDT" "2014-08-12 18:01:59 AKDT"</code></pre>
</div>
</div>
</section>
<section id="from-separate-date-elements" class="level3" data-number="5.1.3">
<h3 data-number="5.1.3" class="anchored" data-anchor-id="from-separate-date-elements"><span class="header-section-number">5.1.3</span> From separate date elements</h3>
<p>If your data table splits the date elements into separate vector objects or columns, use the <code>paste</code> function to combine the elements into a single date string before passing it to one of the <code>lubridate</code> functions. Let’s look at an example:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-15_ee5ebbfc9a8473d05b87c5ade1c11449">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"http://mgimond.github.io/ES218/Data/CO2.csv"</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dat1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Year Month Average Interpolated  Trend Daily_mean
1 1959     1  315.62       315.62 315.70         -1
2 1959     2  316.38       316.38 315.88         -1
3 1959     3  316.71       316.71 315.62         -1
4 1959     4  317.72       317.72 315.56         -1
5 1959     5  318.29       318.29 315.50         -1
6 1959     6  318.15       318.15 315.92         -1</code></pre>
</div>
</div>
<p>The CO2 dataset has the date split across two columns: <code>Year</code> and <code>Month</code> (both stored as integers). You can combine the columns into a character string using the <code>paste</code> function. For example, if we want to create a “Year-Month” string as in <code>1959-10</code>, we could type:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-16_959e5fb6aab24140050fda1d2b5552c8">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(dat1<span class="sc">$</span>Year,dat1<span class="sc">$</span>Month, <span class="at">sep=</span><span class="st">"-"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The above example uses three arguments: the two objects that are pasted together (i.e.&nbsp;<code>Year</code> and <code>Month</code>) and the <code>sep="-"</code> parameter which fills the gap between both objects with a dash <code>-</code> (by default, <code>paste</code> would have added spaces thus creating strings in the form of <code>1959 10</code>).</p>
<p><code>lubridate</code> does not have a function along the lines of <code>ym</code> to convert just the year-month strings, this requires that we add an artificial day of the month to the string. We’ll choose to add the 15<sup>th</sup> day of the month as in</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-17_810e647ebfd51e9b47a44e28c6fe14f7">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(dat1<span class="sc">$</span>Year, dat1<span class="sc">$</span>Month, <span class="st">"15"</span>, <span class="at">sep=</span><span class="st">"-"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And finally, we’ll add a new column called <code>Date</code> to the <code>dat</code> object, and fill that column with the newly created date string wrapped with the <code>ymd</code> function:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-18_36d1e8e6ae2f37b7b7870457531c5c05">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>Date <span class="ot">&lt;-</span> <span class="fu">ymd</span>( <span class="fu">paste</span>(dat1<span class="sc">$</span>Year, dat1<span class="sc">$</span>Month, <span class="st">"15"</span>, <span class="at">sep=</span><span class="st">"-"</span>) )</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dat1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Year Month Average Interpolated  Trend Daily_mean       Date
1 1959     1  315.62       315.62 315.70         -1 1959-01-15
2 1959     2  316.38       316.38 315.88         -1 1959-02-15
3 1959     3  316.71       316.71 315.62         -1 1959-03-15
4 1959     4  317.72       317.72 315.56         -1 1959-04-15
5 1959     5  318.29       318.29 315.50         -1 1959-05-15
6 1959     6  318.15       318.15 315.92         -1 1959-06-15</code></pre>
</div>
</div>
<p>The <code>sep="-"</code> option is not needed with the lubridate function so the last piece of code could have been written as:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-19_4cc29feeae70c38bed1ab6f12d880405">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>Date <span class="ot">&lt;-</span> <span class="fu">ymd</span>( <span class="fu">paste</span>(dat1<span class="sc">$</span>Year, dat1<span class="sc">$</span>Month, <span class="st">"15"</span>) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To confirm that the <code>Date</code> column is indeed formatted as a date object type:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-20_b0dad848c0af57463d74267be03b22e2">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dat1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   721 obs. of  7 variables:
 $ Year        : int  1959 1959 1959 1959 1959 1959 1959 1959 1959 1959 ...
 $ Month       : int  1 2 3 4 5 6 7 8 9 10 ...
 $ Average     : num  316 316 317 318 318 ...
 $ Interpolated: num  316 316 317 318 318 ...
 $ Trend       : num  316 316 316 316 316 ...
 $ Daily_mean  : int  -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 ...
 $ Date        : Date, format: "1959-01-15" "1959-02-15" "1959-03-15" "1959-04-15" ...</code></pre>
</div>
</div>
<p>or you could type,</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-21_92abf9be02f7cf51d2ad6f8fe70343b9">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(dat1<span class="sc">$</span>Date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
<p>Since we did not add a timezone or a time component to the date object the <code>Date</code> column was assigned a <code>Date</code> class as opposed to the <code>POSIX...</code> class.</p>
</section>
<section id="padding-time-values" class="level3" data-number="5.1.4">
<h3 data-number="5.1.4" class="anchored" data-anchor-id="padding-time-values"><span class="header-section-number">5.1.4</span> Padding time values</h3>
<p>The lubridate functions may expect the time values to consist of a specific number of characters if a delimiter such as <code>:</code> is not present to split the time elements. For example, the following will not generate a valide date/time object:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-22_7585ee1d502dc743b9754ce4e0e6cd15">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>hrmin <span class="ot">&lt;-</span> <span class="dv">712</span>           <span class="co"># Time 7:12</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>date  <span class="ot">&lt;-</span> <span class="st">"2018/03/17"</span>  <span class="co"># Date </span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd_hm</span>(<span class="fu">paste</span>(date, hrmin))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>One solution is to <em>pad</em> the time element with 0’s to complete a four character vector (or a six character vector if seconds are part of the time element). We can use the <code>str_pad</code> function from the <code>stringr</code> package to pad the time object (the <code>stringr</code> package is covered <a href="strings.html">in chapter 6</a>).</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-23_2193b12d326a54b2814dd60a358742e4">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd_hm</span>(<span class="fu">paste</span>(date, <span class="fu">str_pad</span>(hrmin, <span class="at">width=</span><span class="dv">4</span>, <span class="at">pad=</span><span class="st">"0"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2018-03-17 07:12:00 UTC"</code></pre>
</div>
</div>
</section>
</section>
<section id="extracting-date-information" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="extracting-date-information"><span class="header-section-number">5.2</span> Extracting date information</h2>
<p>If you want to extract the day of the week from a date vector, use the <code>wday</code> function.</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-24_92c018140dcf0157765d2d3f1a93b42f">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(x.date) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 3 3</code></pre>
</div>
</div>
<p>If you want the day of the week displayed as its three letter designation, add the <code>label=TRUE</code> parameter.</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-25_b8b79f89d62cff7a9cb0f71f8b6e6042">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(x.date, <span class="at">label=</span><span class="cn">TRUE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Sun Tue Tue
Levels: Sun &lt; Mon &lt; Tue &lt; Wed &lt; Thu &lt; Fri &lt; Sat</code></pre>
</div>
</div>
<p>You’ll note that the function returns a <code>factor</code> object with seven levels–one for each day of the week (Sun, Mon, Tue, Wed, Thu, Fri, Sat)–as well as the level hierarchy which will dictate the order in which values will be displayed if grouped by this factor. The levels are not necessarily reflected in the vector elements (only Sun, Tue are present), but the levels are there if we were ever to add addition day elements to this vector.</p>
<p>The following table lists functions that extract different elements of a date object.</p>
<table class="table">
<thead>
<tr class="header">
<th>Functions</th>
<th>Extracted element</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>hour()</code></td>
<td>Hour of the day</td>
</tr>
<tr class="even">
<td><code>minute()</code></td>
<td>Minute of the hour</td>
</tr>
<tr class="odd">
<td><code>day()</code></td>
<td>Day of the month</td>
</tr>
<tr class="even">
<td><code>yday()</code></td>
<td>Day of the year</td>
</tr>
<tr class="odd">
<td><code>decimal_date()</code></td>
<td>Decimal year</td>
</tr>
<tr class="even">
<td><code>month()</code></td>
<td>Month of the year</td>
</tr>
<tr class="odd">
<td><code>year()</code></td>
<td>Year</td>
</tr>
<tr class="even">
<td><code>tz()</code></td>
<td>Time zone</td>
</tr>
</tbody>
</table>
</section>
<section id="operating-on-dates" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="operating-on-dates"><span class="header-section-number">5.3</span> Operating on dates</h2>
<p>You can apply certain operations to dates as you would to numbers. For example, to list the number of days between the first and third elements of the vector <code>x.date</code> type the following:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-26_a4f52efa0ae4124a0e4ea55e9096d975">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>(x.date[<span class="dv">3</span>] <span class="sc">-</span> x.date[<span class="dv">1</span>]) <span class="sc">/</span> <span class="fu">ddays</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 415.5949</code></pre>
</div>
</div>
<p>To get the number of weeks between both dates:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-27_b34bc09ce90797276192784b872f17a6">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>(x.date[<span class="dv">3</span>] <span class="sc">-</span> x.date[<span class="dv">1</span>]) <span class="sc">/</span> <span class="fu">dweeks</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 59.37069</code></pre>
</div>
</div>
<p>Likewise, you can get the number of minutes between dates by dividing by <code>dminutes()</code> and the number of years by dividing by <code>dyears()</code>.</p>
<p>You can also apply Boolean operations on dates. For example, to find which date element in <code>x.date</code> falls between the 11<sup>th</sup> and 24<sup>th</sup> day of any month, type:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-28_3f04bca2bcf7ebf215f69d5095d0a93e">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>(<span class="fu">mday</span>(x.date) <span class="sc">&gt;</span> <span class="dv">11</span>) <span class="sc">&amp;</span> (<span class="fu">mday</span>(x.date) <span class="sc">&lt;</span> <span class="dv">24</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE  TRUE</code></pre>
</div>
</div>
<p>If you want the command to return just the dates that satisfy this query, pass the Boolean operation as an index to the <code>x.date</code> vector:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-29_458aafdaea87df1d642d0edbcc1f15eb">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>x.date[ (<span class="fu">mday</span>(x.date) <span class="sc">&gt;</span> <span class="dv">11</span>) <span class="sc">&amp;</span> (<span class="fu">mday</span>(x.date) <span class="sc">&lt;</span> <span class="dv">24</span>) ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2013-06-23 03:45:23 AKDT" "2014-08-12 18:01:59 AKDT"</code></pre>
</div>
</div>
</section>
<section id="formatting-date-objects" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="formatting-date-objects"><span class="header-section-number">5.4</span> Formatting date objects</h2>
<p>You can create a character vector from a date object. This is useful if you want to annotate plots with dates or include date values in reports. For example, to convert the date object <code>x.date</code> to a “Month_name Year” character format, type the following:</p>
<div class="cell" data-hash="date_objects_cache/html/unnamed-chunk-30_d3c764f5e75ad5d0fbc7ee599eed1f48">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.character</span>(x.date, <span class="at">format=</span><span class="st">"%B %Y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "June 2013"   "July 2013"   "August 2014"</code></pre>
</div>
</div>
<p>The <code>format=</code> parameter accepts many different date/time format codes listed in the following table (note the case!).</p>
<table class="table">
<colgroup>
<col style="width: 17%">
<col style="width: 31%">
<col style="width: 51%">
</colgroup>
<thead>
<tr class="header">
<th>Format codes</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>%a</code></td>
<td>Abbreviated weekday name</td>
<td>Sun, Tue, Tue</td>
</tr>
<tr class="even">
<td><code>%A</code></td>
<td>Full weekday name</td>
<td>Sunday, Tuesday, Tuesday</td>
</tr>
<tr class="odd">
<td><code>%m</code></td>
<td>Month as decimal number</td>
<td>06, 07, 08</td>
</tr>
<tr class="even">
<td><code>%b</code></td>
<td>Abbreviated month name</td>
<td>Jun, Jul, Aug</td>
</tr>
<tr class="odd">
<td><code>%B</code></td>
<td>Full month name</td>
<td>June, July, August</td>
</tr>
<tr class="even">
<td><code>%c</code></td>
<td>Date and time, locale-specific</td>
<td>Sun Jun 23 03:45:23 2013, Tue Jul 30 14:23:00 2013, Tue Aug 12 18:01:59 2014</td>
</tr>
<tr class="odd">
<td><code>%d</code></td>
<td>Day of the month as decimal number</td>
<td>23, 30, 12</td>
</tr>
<tr class="even">
<td><code>%H</code></td>
<td>Hours as decimal number (00 to 23)</td>
<td>03, 14, 18</td>
</tr>
<tr class="odd">
<td><code>%I</code></td>
<td>Hours as decimal number (01 to 12)</td>
<td>03, 02, 06</td>
</tr>
<tr class="even">
<td><code>%p</code></td>
<td>AM/PM indicator in the locale</td>
<td>AM, PM, PM</td>
</tr>
<tr class="odd">
<td><code>%j</code></td>
<td>Day of year as decimal number</td>
<td>174, 211, 224</td>
</tr>
<tr class="even">
<td><code>%M</code></td>
<td>Minute as decimal number (00 to 59)</td>
<td>45, 23, 01</td>
</tr>
<tr class="odd">
<td><code>%S</code></td>
<td>Second as decimal number</td>
<td>23, 00, 59</td>
</tr>
<tr class="even">
<td><code>%U</code></td>
<td>Week of the year starting on the first Sunday</td>
<td>25, 30, 32</td>
</tr>
<tr class="odd">
<td><code>%W</code></td>
<td>Week of the year starting on the first Monday</td>
<td>24, 30, 32</td>
</tr>
<tr class="even">
<td><code>%w</code></td>
<td>Weekday as decimal number (Sunday = 0)</td>
<td>0, 2, 2</td>
</tr>
<tr class="odd">
<td><code>%x</code></td>
<td>Date (locale-specific)</td>
<td>6/23/2013, 7/30/2013, 8/12/2014</td>
</tr>
<tr class="even">
<td><code>%X</code></td>
<td>Time (locale-specific)</td>
<td>3:45:23 AM, 2:23:00 PM, 6:01:59 PM</td>
</tr>
<tr class="odd">
<td><code>%Y</code></td>
<td>4-digit year</td>
<td>2013, 2013, 2014</td>
</tr>
<tr class="even">
<td><code>%y</code></td>
<td>2-digit year</td>
<td>13, 13, 14</td>
</tr>
<tr class="odd">
<td><code>%Z</code></td>
<td>Abbreviated time zone</td>
<td>AKDT, AKDT, AKDT</td>
</tr>
<tr class="even">
<td><code>%z</code></td>
<td>Time zone</td>
<td>-0800, -0800, -0800</td>
</tr>
</tbody>
</table>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./read_write_files.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Reading and Writing Data Files</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./strings.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Working with string objects</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Manny Gimond, Creative Commons License <a href="https://creativecommons.org/licenses/by-nc/4.0/"><img src="https://i.creativecommons.org/l/by-nc/4.0/80x15.png" class="img-fluid"></a></div>   
  </div>
</footer>



</body></html>