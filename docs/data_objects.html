<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Exploratory Data Analysis in R - 3&nbsp; Data Object Type and Structure</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./read_write_files.html" rel="next">
<link href="./The_R_environment.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CJW3PSXZC2"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-CJW3PSXZC2', { 'anonymize_ip': true});
</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="libs/style.css">
</head>

<body class="nav-sidebar docked">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./data_objects.html">Data manipulation</a></li><li class="breadcrumb-item"><a href="./data_objects.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Object Type and Structure</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./"></a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Intro</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">EDA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./The_R_environment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The R and RStudio Environments</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Data manipulation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_objects.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Object Type and Structure</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./read_write_files.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Reading and Writing Data Files</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./date_objects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Working with Dates</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Working with string objects</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./boolean.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Relational and boolean operations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./subset_base.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Manipulating data tables using base functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Manipulating data tables with <code>dplyr</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./group_by.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Grouping and summarizing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tidyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Tidying/reshaping tables with <code>tidyr</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./joins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Joining Data Tables</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Plots</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./base_plots.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Base plotting environment</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lattice_plot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Lattice plotting environment</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ggplot2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">ggplot2 plotting environment</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Univariate</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./univariate_plots.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Visualizing univariate distributions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./compare_batches.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Comparing distributions: The q-q plot</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./theoretical_qq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">The theoretical q-q plot</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rf.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Fits and residuals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sl_plot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Spread-level plots</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./re_express.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Re-expressing values</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./letter_values.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Letter value summaries</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./robustness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">A working example: t-tests and re-expression</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Bivariate</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bivariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Fits and residuals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./resistant_lines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Resistant lines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">The third R of EDA: Residuals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discontinuity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Slicing data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Two-way tables</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./two_way.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Analyzing two-way tables: The median polish</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
 <span class="menu-text">Miscellaneous</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">R markdown document</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Mapping variables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Data used in ES218</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#core-data-types" id="toc-core-data-types" class="nav-link active" data-scroll-target="#core-data-types"><span class="header-section-number">3.1</span> Core data types</a>
  <ul class="collapse">
  <li><a href="#numeric" id="toc-numeric" class="nav-link" data-scroll-target="#numeric"><span class="header-section-number">3.1.1</span> Numeric</a></li>
  <li><a href="#character" id="toc-character" class="nav-link" data-scroll-target="#character"><span class="header-section-number">3.1.2</span> Character</a></li>
  <li><a href="#logical" id="toc-logical" class="nav-link" data-scroll-target="#logical"><span class="header-section-number">3.1.3</span> Logical</a></li>
  </ul></li>
  <li><a href="#naming-r-objects" id="toc-naming-r-objects" class="nav-link" data-scroll-target="#naming-r-objects"><span class="header-section-number">3.2</span> Naming R objects</a></li>
  <li><a href="#derived-data-types" id="toc-derived-data-types" class="nav-link" data-scroll-target="#derived-data-types"><span class="header-section-number">3.3</span> Derived data types</a>
  <ul class="collapse">
  <li><a href="#factors_xtr" id="toc-factors_xtr" class="nav-link" data-scroll-target="#factors_xtr"><span class="header-section-number">3.3.1</span> Factor</a></li>
  <li><a href="#date" id="toc-date" class="nav-link" data-scroll-target="#date"><span class="header-section-number">3.3.2</span> Date</a></li>
  <li><a href="#na-and-null" id="toc-na-and-null" class="nav-link" data-scroll-target="#na-and-null"><span class="header-section-number">3.3.3</span> NA and NULL</a></li>
  </ul></li>
  <li><a href="#data-structures" id="toc-data-structures" class="nav-link" data-scroll-target="#data-structures"><span class="header-section-number">3.4</span> Data structures</a>
  <ul class="collapse">
  <li><a href="#atomic-vectors" id="toc-atomic-vectors" class="nav-link" data-scroll-target="#atomic-vectors"><span class="header-section-number">3.4.1</span> (Atomic) Vectors</a></li>
  <li><a href="#matrices-and-arrays" id="toc-matrices-and-arrays" class="nav-link" data-scroll-target="#matrices-and-arrays"><span class="header-section-number">3.4.2</span> Matrices and arrays</a></li>
  <li><a href="#data-frames" id="toc-data-frames" class="nav-link" data-scroll-target="#data-frames"><span class="header-section-number">3.4.3</span> Data frames</a></li>
  <li><a href="#lists" id="toc-lists" class="nav-link" data-scroll-target="#lists"><span class="header-section-number">3.4.4</span> Lists</a></li>
  </ul></li>
  <li><a href="#coercing-data-from-one-type-to-another" id="toc-coercing-data-from-one-type-to-another" class="nav-link" data-scroll-target="#coercing-data-from-one-type-to-another"><span class="header-section-number">3.5</span> Coercing data from one type to another</a>
  <ul class="collapse">
  <li><a href="#a-word-of-caution-when-converting-from-factors" id="toc-a-word-of-caution-when-converting-from-factors" class="nav-link" data-scroll-target="#a-word-of-caution-when-converting-from-factors"><span class="header-section-number">3.5.1</span> A word of caution when converting from factors</a></li>
  </ul></li>
  <li><a href="#adding-metadata-to-objects" id="toc-adding-metadata-to-objects" class="nav-link" data-scroll-target="#adding-metadata-to-objects"><span class="header-section-number">3.6</span> Adding metadata to objects</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Object Type and Structure</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-2_7aaf7b6be6b0a5401694ca8048c92ef2">
<div class="cell-output-display">

<table data-quarto-disable-processing="true" class="table" style="width: auto !important; ">
 <thead>
  <tr>
   <th style="text-align:left;color: rgba(85, 85, 85, 255) !important;background-color: rgba(221, 221, 221, 255) !important;text-align: center;border: 1px solid white !important;
             font-family: 'Source Code Pro', 'Open Sans';
             padding:1px !important;
             padding-left:4px !important;
             padding-right:4px !important;
             font-size: 0.8em;
             border-radius: 5px;width:5px;">   </th>
   <th style="text-align:left;color: rgba(85, 85, 85, 255) !important;background-color: rgba(221, 221, 221, 255) !important;text-align: center;border: 1px solid white !important;
             font-family: 'Source Code Pro', 'Open Sans';
             padding:1px !important;
             padding-left:4px !important;
             padding-right:4px !important;
             font-size: 0.8em;
             border-radius: 5px;width:5px;"> version </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;color: darkred !important;background-color: rgba(250, 232, 232, 255) !important;text-align: center;border: 1px solid white;
             font-family: 'Open Sans', Arial;
             padding:1px !important;
             padding-left:4px !important;
             padding-right:4px !important;
             font-size: 0.8em;
             border-radius: 5px;width:5px;"> R </td>
   <td style="text-align:left;color: darkred !important;background-color: rgba(250, 232, 232, 255) !important;text-align: center;border: 1px solid white;
             font-family: 'Open Sans', Arial;
             padding:1px !important;
             padding-left:4px !important;
             padding-right:4px !important;
             font-size: 0.8em;
             border-radius: 5px;width:5px;"> 4.3.2 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<section id="core-data-types" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="core-data-types"><span class="header-section-number">3.1</span> Core data types</h2>
<p>An R object’s data type, or <strong>mode</strong>, defines how its values are stored in the computer. You can get an object’s mode using the <code>typeof()</code> function. Note that R also has a built-in <code>mode()</code> function that will serve the same purpose with the one exception in that it will not distinguish integers from doubles.</p>
<section id="numeric" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="numeric"><span class="header-section-number">3.1.1</span> Numeric</h3>
<p>The <strong>numeric</strong> data type is probably the simplest. It consists of numbers such as integers (e.g.&nbsp;<code>1 ,-3 ,33 ,0</code>) and doubles (e.g.&nbsp;<code>0.3, 12.4, -0.04, 1.0</code>). For example, to create a numeric (double) vector we can type:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-3_918afbeecc4d064679fa07ae779b3f47">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.0</span>, <span class="sc">-</span><span class="fl">3.4</span>, <span class="dv">2</span>, <span class="fl">140.1</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
<p>To assess if the number is stored as an <em>integer</em> or a <em>double</em> use the <code>typeof()</code> function.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-4_5bd16eac537a903d366264b58d118119">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
</div>
<p>Note that removing the fractional part of a number when creating a numeric object does not necessarily create an integer. For example, creating what seems to be an integer object returns <em>double</em> when queried by <code>typeof()</code>:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-5_162b7523e587dc754439d5d63175b9c2">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
</div>
<p>To force R to recognize a value as an integer add an upper case <code>L</code> to the number.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-6_def8bf35e26172c6b1e165859c0e185d">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> 4L</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
</section>
<section id="character" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="character"><span class="header-section-number">3.1.2</span> Character</h3>
<p>The <strong>character</strong> data type consists of letters or words such as <code>"a", "f", "project", "house value"</code>.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-7_f363f7faadb143aedf1a2e1dd9865b00">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"f"</span>, <span class="st">"project"</span>, <span class="st">"house value"</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>Characters can also consist of numbers represented as characters. The distinction between a character representation of a number and a numeric one is important. For example, if we have two numeric vectors <code>x</code> and <code>y</code> such as</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-8_cf038bedfa77728a991e77e574e3f7e8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fl">5.3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>and we choose to sum the two variables, we get:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-9_e60fe7445d3d147e4755f44aa3b2aa5d">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8.3</code></pre>
</div>
</div>
<p>If we repeat these same steps but instead, choose to represent the numbers <code>3</code> and <code>5.3</code> as characters we get the following error message:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-10_290af104c59cd94ca0cc07111f89e4bb">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">"3"</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="st">"5.3"</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in x + y: non-numeric argument to binary operator</code></pre>
</div>
</div>
<p>Note the use of quotes to force numbers to character mode.</p>
</section>
<section id="logical" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="logical"><span class="header-section-number">3.1.3</span> Logical</h3>
<p><strong>Logical</strong> values can take on one of two values: <code>TRUE</code> or <code>FALSE</code>. These can also be represented as <code>1</code> or <code>0</code>. For example, to create a logical vector of 4 elements, you can type</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-11_a33f11dba68b4284d0273323ee02fcd4">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>or</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-12_25be03387cda4d1f5dd7ab923a2f9bf3">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as.logical</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that in both cases, <code>typeof(x)</code> returns logical. Also note that the <code>1</code>’s and <code>0</code>’s in the last example are converted to <code>TRUE</code>’s and <code>FALSE</code>’s internally.</p>
</section>
</section>
<section id="naming-r-objects" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="naming-r-objects"><span class="header-section-number">3.2</span> Naming R objects</h2>
<p>You can use any combination of alphanumeric characters–including dots and underscore–to name an R object. But there are a few exceptions:</p>
<ul>
<li>Names cannot start with a number;</li>
<li>Names cannot have spaces;</li>
<li>Names cannot be a standalone number such as <code>12</code> or <code>0.34</code>;</li>
<li>Names cannot be a reserved word such as <code>if</code>, <code>else</code>, <code>function</code>, <code>TRUE</code>, <code>FALSE</code> and <code>NULL</code> just to name a few (to see the full list of reserved words, type <code>?Reserved</code>).</li>
</ul>
<p>Examples of valid names include <code>a</code>, <code>dat2</code>, <code>cpi_index</code>, <code>.tmp</code>, and even a standalone dot <code>.</code> (though a dot can make reading code difficult under certain circumstances).</p>
<p>Examples of invalid names include <code>1dat</code>, <code>dat 2</code> (note the space between <code>dat</code> and <code>2</code>), <code>df-ver2</code> (the dash is treated as a mathematical operator), and <code>Inf</code> (the latter is a reserved word listed in the <code>?Reserved</code> help document).</p>
<p>You <em>can</em> mix cases, but use upper cases with caution since some letters look very much the same in both lower and upper cases (e.g.&nbsp;<code>s</code> and <code>S</code>).</p>
</section>
<section id="derived-data-types" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="derived-data-types"><span class="header-section-number">3.3</span> Derived data types</h2>
<p>We’ve learned that data are stored as either numeric, character or logical, but they can carry additional <em>attribute</em> information that allow these objects to be treated in special ways by certain functions in R. These attributes define an object’s <strong>class</strong> and can be extracted from that object via the <code>class()</code> function.</p>
<section id="factors_xtr" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="factors_xtr"><span class="header-section-number">3.3.1</span> Factor</h3>
<p><strong>Factors</strong> are normally used to group variables into a fixed number of unique categories or <strong>levels</strong>. For example, a dataset may be grouped by gender or month of the year. Such data are usually loaded into R as a numeric or character data type requiring that they be converted to a factor using the <code>as.factor()</code> function.</p>
<p>In the following chunk of code, we create a factor from a character object.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-13_d617d082984c03cf2fb0bc384037ba73">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>a      <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"M"</span>, <span class="st">"F"</span>, <span class="st">"F"</span>, <span class="st">"U"</span>, <span class="st">"F"</span>, <span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"F"</span>, <span class="st">"U"</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>a.fact <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that <code>a</code> is of <code>character</code> data type.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-14_93b318edda5ba0f31ace9ad2c0137b77">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>However, the derived object <code>a.fact</code> is now stored as an <code>integer</code>!</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-15_567e4f99ae1937092b90447d1e5e7737">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(a.fact)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
<p>Yet, when displaying the contents of <code>a.fact</code> we see character values.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-16_27d666d6533714246bf1af3c005217a6">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>a.fact</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] M F F U F M M M F U
Levels: F M U</code></pre>
</div>
</div>
<p>How can this be? Well, <code>a.fact</code> is a more complicated object than the simple objects created thus far in that the factor is storing additional information not seen in its output. This hidden information is stored as an object <strong>attribute</strong>. To view these hidden attributes, use the <code>attributes</code> function.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-17_53937e223bd14cd2bae6134ce1435ed7">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(a.fact)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$levels
[1] "F" "M" "U"

$class
[1] "factor"</code></pre>
</div>
</div>
<p>There are two attributes: <code>levels</code> and <code>class</code>. The <code>levels</code> attribute lists the three unique values in <code>a.fact</code>. The order in which these levels are listed reflect their <em>numeric</em> representation. So in essence, <code>a.fact</code> is storing each value as an integer that points to one of the three unique levels.</p>
<p><img src="img/levels1.png" class="img-fluid"></p>
<p>So why doesn’t R output the integer values when we output <code>a.fact</code>? To understand why, we first need to know that when we call the object name, R is passing that object name to the <code>print</code> function, so the following lines of code are identical.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-18_7e3c455941aa14c688a75dc2b9f6f837">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>a.fact</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(a.fact)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>print</code> function then looks for a <code>class</code> attribute in the object. The class type instructs the <code>print</code> function on how to generate the output. Since <code>a.fact</code> has a <code>factor</code> class attribute, the <code>print</code> function is instructed to replace the integer values with the level “tags”.</p>
<p>Naturally, this all happens behind the scenes without user intervention.</p>
<p>Another way to determine <code>a.fact</code>’s class type is to call the <code>class</code> function.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-19_67fa2219ec46000f64a8836478620611">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a.fact)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
</div>
<p>The unique levels of a factor, and the order in which they are stored can be extracted using the <code>levels</code> function.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-20_eaf26723d9e0e86210998e3f2ae18f91">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(a.fact)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "F" "M" "U"</code></pre>
</div>
</div>
<p>Remember, the order in which the levels are displayed match their integer representation.</p>
<p>Note that if a class attribute is not present, the <code>class</code> function will return the object’s data type (though it will not distinguish between integer and double).</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-21_5d05a1d5b974fd7ff277b6c363c7a884">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>To appreciate the benefits of a factor, we’ll first create a dataframe (dataframes are data tables whose structure will be covered later in this tutorial). One column will be assigned the <code>a.fact</code> factor and another will be assigned some random numeric values.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-22_b236a88ca162de4a618d3c9bd48410de">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>x      <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">166</span>, <span class="dv">47</span>, <span class="dv">61</span>, <span class="dv">148</span>, <span class="dv">62</span>, <span class="dv">123</span>, <span class="dv">232</span>, <span class="dv">98</span>, <span class="dv">93</span>, <span class="dv">110</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>dat    <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> x, <span class="at">gender =</span> a.fact)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     x gender
1  166      M
2   47      F
3   61      F
4  148      U
5   62      F
6  123      M
7  232      M
8   98      M
9   93      F
10 110      U</code></pre>
</div>
</div>
<p>The <code>gender</code> column is now a factor with three levels: <code>F</code>, <code>M</code> and <code>U</code>. We can use the <code>str()</code> function to view the dataframe’s structure as well as its columns classes.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-23_0d8858048c3111b2aee3e17503974ede">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   10 obs. of  2 variables:
 $ x     : num  166 47 61 148 62 123 232 98 93 110
 $ gender: Factor w/ 3 levels "F","M","U": 2 1 1 3 1 2 2 2 1 3</code></pre>
</div>
</div>
<p>Many functions other than <code>print</code> will recognize factor data types and will allow you to split the output into groups defined by the factor’s unique levels. For example, to create three boxplots of the value <code>x</code>, one for each gender group <code>F</code>, <code>M</code> and <code>U</code>, type the following:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-24_f98384c6bacb7001939d80feb5876494">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(x <span class="sc">~</span> gender, dat, <span class="at">horizontal =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="data_objects_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="384"></p>
</div>
</div>
<p>The tilde <code>~</code> operator is used in the plot function to split (or <em>condition</em>) the data into separate plots based on the factor <code>gender</code>.</p>
<p>Factors will prove to be quite useful in many analytical and graphical procedures as we’ll see in subsequent sections.</p>
<section id="rearranging-level-order" class="level4" data-number="3.3.1.1">
<h4 data-number="3.3.1.1" class="anchored" data-anchor-id="rearranging-level-order"><span class="header-section-number">3.3.1.1</span> Rearranging level order</h4>
<p>A factor will define a hierarchy for its levels. When we invoked the <code>levels</code> function in the last example, you may have noted that the levels output were ordered <code>F</code>, <code>M</code> and<code>U</code>–this is the level hierarchy defined for <code>gender</code> (i.e.&nbsp;<code>F</code>&gt;<code>M</code>&gt;<code>U</code> ). This means that regardless of the order in which the factors appear in a table, anytime a plot or operation is conditioned by the factor, the grouped elements will appear in the order defined by the levels’ hierarchy. When we created the boxplot from our <code>dat</code> object, the plotting function ordered the boxplot (bottom to top) following <code>gender</code>’s level hierarchy (i.e.&nbsp;<code>F</code> first, then <code>M</code>, then <code>U</code>).</p>
<p>If we wanted the boxplots to be plotted in a different order (i.e.&nbsp;<code>U</code> first followed by <code>F</code> then <code>M</code>) we would need to modify the <code>gender</code> column by recreating the factor object as follows:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-25_97bc6f12ce5abb8ac71e91e41d2647f9">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>gender <span class="ot">&lt;-</span> <span class="fu">factor</span>(dat<span class="sc">$</span>gender, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"U"</span>,<span class="st">"F"</span>,<span class="st">"M"</span>))</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   10 obs. of  2 variables:
 $ x     : num  166 47 61 148 62 123 232 98 93 110
 $ gender: Factor w/ 3 levels "U","F","M": 3 2 2 1 2 3 3 3 2 1</code></pre>
</div>
</div>
<p>The <code>factor</code> function is given the original factor values (<code>dat$gender</code>) but is also given the levels in the new order in which they are to appear(<code>levels=c("U","F","M")</code>). Now, if we recreate the boxplot, the plot order (plotted from bottom to top) will reflect the new level hierarchy.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-26_9a7d66538c8a5e71207007783d1ad1df">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(x <span class="sc">~</span> gender, dat, <span class="at">horizontal =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="data_objects_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="384"></p>
</div>
</div>
</section>
<section id="subsetting-table-by-level-and-dropping-levels" class="level4" data-number="3.3.1.2">
<h4 data-number="3.3.1.2" class="anchored" data-anchor-id="subsetting-table-by-level-and-dropping-levels"><span class="header-section-number">3.3.1.2</span> Subsetting table by level and dropping levels</h4>
<p>In this example, we can subset the table by level using the subset function. For example, to subset the values associated with <code>F</code> and <code>M</code>, type:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-27_99a41e22ccb84e1f4e06380bc06633f0">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>dat.f <span class="ot">&lt;-</span> <span class="fu">subset</span>(dat, gender <span class="sc">==</span> <span class="st">"F"</span> <span class="sc">|</span> gender <span class="sc">==</span> <span class="st">"M"</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>dat.f</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    x gender
1 166      M
2  47      F
3  61      F
5  62      F
6 123      M
7 232      M
8  98      M
9  93      F</code></pre>
</div>
</div>
<p>The double equality sign <code>==</code> differs from the single equality sign <code>=</code> in that the former asses a condition: it checks if the variable to the left of <code>==</code> equals the variable to the right.</p>
<p>However, if you display the levels associated with this new dataframe, you’ll still see the level <code>U</code> even though it no longer exists in the <code>gender</code> column.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-28_60eee8aad8d0d106773a84b02ec98a1b">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(dat.f<span class="sc">$</span>gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "U" "F" "M"</code></pre>
</div>
</div>
<p>This can be a nuisance when plotting the data subset.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-29_499106a1d5b61646d05fb858697775c7">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(x <span class="sc">~</span> gender, dat.f, <span class="at">horizontal =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="data_objects_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="384"></p>
</div>
</div>
<p>Even though no records are available for <code>U</code>, the plot function allocates a slot for that level. To resolve this, we can use the <code>droplevels</code> function to remove all unused levels.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-30_3ae1dd6da5fc2bf18a40633e6201d5b6">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>dat.f<span class="sc">$</span>gender <span class="ot">&lt;-</span> <span class="fu">droplevels</span>(dat.f<span class="sc">$</span>gender)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(dat.f<span class="sc">$</span>gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "F" "M"</code></pre>
</div>
</div>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-31_aeab4769dd9ad97aaaca670cbff2148d">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(x <span class="sc">~</span> gender, dat.f, <span class="at">horizontal =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="data_objects_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="384"></p>
</div>
</div>
</section>
</section>
<section id="date" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="date"><span class="header-section-number">3.3.2</span> Date</h3>
<p>Date values are stored as numbers. But to be properly interpreted as a date object in R, their class attribute must be explicitly defined as a <strong>date</strong>. R provides many facilities to convert and manipulate dates and times, but a package called <code>lubridate</code> makes working with dates/times much easier. A separate <a href="date_objects.html">chapter</a> is dedicated to the creation and manipulation of date objects.</p>
</section>
<section id="na-and-null" class="level3" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="na-and-null"><span class="header-section-number">3.3.3</span> NA and NULL</h3>
<p>You will find that many data files contain missing or unknown values. It may be tempting to assign these missing or unknown values a <code>0</code> but doing so can lead to many undesirable results when analyzing the data. R has two placeholders for such elements: <code>NA</code> and <code>NULL</code>.</p>
<p>For example, let’s say that we made four measurements where the second measurement was not available but we wanted that missing value to be recorded in our table, we would encode that missing value as follows:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-32_4130ee1b3d2bf01a04bb8d6b08b5ac16">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">23</span>, <span class="cn">NA</span>, <span class="fl">1.2</span>, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>NA</code> (Not Available) is a missing value indicator. It suggests that <em>a</em> value should be present but is unknown.</p>
<p>The <code>NULL</code> object also represents missing values but its interpretation is slightly different in that it suggests that the value does not exist or that it’s not measurable.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-33_a1ab9d24c9d25ea8a6a0828e457cc2b3">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">23</span>, <span class="cn">NULL</span>, <span class="fl">1.2</span>, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The difference between <code>NA</code> and <code>NULL</code> may seem subtle, but their interpretation in some functions can lead to different outcomes. For example, when computing the mean of <code>x</code>, R returns an <code>NA</code> value:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-34_649b336e1e691b84143c745c27d8e40f">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>This serves as a check to remind the user that one of the elements is missing. This can be overcome by setting the <code>na.rm</code> parameter to <code>TRUE</code> as in <code>mean(x, na.rm=TRUE)</code> in which case R ignores the missing value.</p>
<p>A <code>NULL</code> object, on the other hand, is treated differently. Since <code>NULL</code> implies that a value <em>should not</em> be present, R no longer feels the need to treat such element as questionable and allows the mean value to be computed:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-35_b0fc3dc0ac8715fb00c0836ddc7545cf">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9.733333</code></pre>
</div>
</div>
<p>It’s more common to find data tables with missing elements populated with <code>NA</code>’s than <code>NULL</code>’s so unless you have a specific reason to use <code>NULL</code> as a missing value placeholder, use <code>NA</code> instead.</p>
<section id="na-data-types" class="level4" data-number="3.3.3.1">
<h4 data-number="3.3.3.1" class="anchored" data-anchor-id="na-data-types"><span class="header-section-number">3.3.3.1</span> NA data types</h4>
<p><code>NA</code> has different data types. By default, it’s a logical variable.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-36_d91ef838f6546086a1db71e08c1a64d8">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="cn">NA</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
</div>
<p>But it can be coerced to other types/classes such as character.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-37_831dbafe163f1e33e287a28eccc58217">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>( <span class="fu">as.character</span>(<span class="cn">NA</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>It can also be coerced to a derived data type such as a date.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-38_cb68f8fe2d44c3d9cd8163ad20031f88">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>( <span class="fu">as.Date</span>(<span class="cn">NA</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
<p>Note the use of <code>class</code> instead of <code>typeof</code> (recall that a date object is stored as a number but has a <code>Date</code> class attribute).</p>
<p>Alternatively, you can make use of built-in reserved words such as <code>NA_character_</code> and <code>NA_integer_</code>. Note that there is no reserved word for an <code>NA</code> date type.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-39_4e643128d4998ebc195378f8f7ef857a">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="cn">NA_character_</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="cn">NA_integer_</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
<p>The distinction between <code>NA</code> types can be important in certain settings. Examples of these will be highlighted in <a href="dplyr.html#conditional-statements">section 9.3</a>.</p>
</section>
</section>
</section>
<section id="data-structures" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="data-structures"><span class="header-section-number">3.4</span> Data structures</h2>
<p>Most datasets we work with consist of batches of values such as a table of temperature values or a list of survey results. These batches are stored in R in one of several <em>data structures</em>. These include <strong>(atomic) vectors</strong>, <strong>matrices</strong>, <strong>data frames</strong> and <strong>lists</strong>.</p>
<p><img src="img/data_structures.png" class="img-fluid"></p>
<section id="atomic-vectors" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="atomic-vectors"><span class="header-section-number">3.4.1</span> (Atomic) Vectors</h3>
<p>The <strong>atomic vector</strong> (or <strong>vector</strong> for short) is the simplest data structure in R which consists of an ordered set of values of the same type and or class (e.g.&nbsp;numeric, character, date, etc…). A vector can be created using the <em>combine</em> function <code>c()</code> as in</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-40_6f7b3b2b283ba49e0cac5e669cbf3812">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">674</span> , <span class="dv">4186</span> , <span class="dv">5308</span> , <span class="dv">5083</span> , <span class="dv">6140</span> , <span class="dv">6381</span>)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  674 4186 5308 5083 6140 6381</code></pre>
</div>
</div>
<p>A vector object is an indexable collection of values which allows one to access a specific index number. For example, to access the third element of <code>x</code>, type:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-41_9e05338f90706a50378550c2f6ef0617">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5308</code></pre>
</div>
</div>
<p>You can also select a subset of elements by index values using the combine function <code>c()</code>.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-42_dad42af8be33bae17563b322fd763dda">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  674 5308 5083</code></pre>
</div>
</div>
<p>Or, if you are interested in a range of indexed values such as index 2 through 4, use the <code>:</code> operator.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-43_5ecc3ad623bc124620a2c335cdf84700">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4186 5308 5083</code></pre>
</div>
</div>
<p>You can also assign new values to a specific index. For example, we can replace the second value in vector <code>x</code> with <code>0</code>.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-44_7b4b2d06aea493bb88deec87d4ae6cd9">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  674    0 5308 5083 6140 6381</code></pre>
</div>
</div>
<p>Note that a vector can store any data type such as characters.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-45_80d05f04cf649201e0eae28eedab5bf7">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"all"</span>, <span class="st">"b"</span>, <span class="st">"olive"</span>)</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "all"   "b"     "olive"</code></pre>
</div>
</div>
<p>However, a vector can only be of one type. For example, you cannot mix numeric and character types as follows:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-46_e7b8ee6083d25c8631dcb412b25be49d">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="fl">1.2</span>, <span class="dv">5</span>, <span class="st">"Rt"</span>, <span class="st">"2000"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<br>
<div style="background-color: #FAD4AA; border-width:1px; border-style: solid; border-color: #CCCC11; border-radius: 5px; padding: 20px;">
<br> When data of different types are combined in a vector or in an operation, R will convert the element types to the <strong>highest common mode</strong> following the order:
<p>
</p><center>
<strong>NULL &lt; logical &lt; integer &lt; double &lt; character</strong>.
</center>
<p>
</p></div>
<p><br> In our working example, the elements are coerced to <code>character</code>:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-47_d295c63fa178eb5267a6a975d4b1d92c">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</section>
<section id="matrices-and-arrays" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="matrices-and-arrays"><span class="header-section-number">3.4.2</span> Matrices and arrays</h3>
<p>Matrices in R can be thought of as vectors indexed using <em>two</em> indices instead of one. For example, the following line of code creates a 3 by 3 matrix of randomly generated values. The parameters <code>nrow</code> and <code>ncol</code> define the matrix dimension and the function <code>runif()</code> generates the nine random numbers that populate this matrix.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-48_fdcf6547fd5d60d754b4b15b0465b2ff">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">runif</span>(<span class="dv">9</span>,<span class="dv">0</span>,<span class="dv">10</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         [,1]      [,2]      [,3]
[1,] 5.551420 4.5102526 0.7499725
[2,] 1.955294 0.8549702 3.3189124
[3,] 7.472038 7.6248636 7.8604781</code></pre>
</div>
</div>
<p>If a higher dimension vector is desired, then use the <code>array()</code> function to generate the n-dimensional object. A 3x3x3 array can be created as follows:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-49_3b408e640f6cfe32bbb8fa3321c76cad">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="fu">runif</span>(<span class="dv">27</span>,<span class="dv">0</span>,<span class="dv">10</span>), <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>))</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>, , 1

         [,1]     [,2]     [,3]
[1,] 2.544256 7.588527 2.943160
[2,] 5.322216 7.232504 3.844889
[3,] 1.240625 7.446650 5.622106

, , 2

         [,1]     [,2]     [,3]
[1,] 9.772901 8.789717 5.280044
[2,] 8.648934 3.657340 9.861641
[3,] 5.719890 7.418222 3.689159

, , 3

          [,1]      [,2]     [,3]
[1,] 0.8652384 8.0297861 7.643928
[2,] 2.5009260 0.5705866 4.630734
[3,] 2.2500430 2.3286809 4.322838</code></pre>
</div>
</div>
<p>Matrices and arrays can store numeric or character data types, but they cannot store both. This is not to say that you can’t have a matrix of the kind</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-50_f58f3fd87b12f923adf1ae86f3734e68">
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,] "a"  "2" 
[2,] "b"  "4" </code></pre>
</div>
</div>
<p>but the value <code>2</code> and <code>4</code> are no longer treated as numeric values but as character values instead.</p>
</section>
<section id="data-frames" class="level3" data-number="3.4.3">
<h3 data-number="3.4.3" class="anchored" data-anchor-id="data-frames"><span class="header-section-number">3.4.3</span> Data frames</h3>
<p>A <strong>data frame</strong> is what comes closest to our perception of a traditional data <em>table</em>. Unlike a matrix, a data frame can <em>mix</em> data types across columns (e.g.&nbsp;both numeric and character columns can coexist in a data frame) but data type remains the same down each column.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-51_989f96121151bf45b11921bc8c521846">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>name   <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a1"</span>, <span class="st">"a2"</span>, <span class="st">"b3"</span>)</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>value1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">23</span>, <span class="dv">4</span>, <span class="dv">12</span>)</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>value2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">45</span>, <span class="dv">5</span>)</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>dat    <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(name, value1, value2)</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  name value1 value2
1   a1     23      1
2   a2      4     45
3   b3     12      5</code></pre>
</div>
</div>
<p>To view each column’s data type use the structure <code>str</code> function.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-52_4a964348fcaa3f101ad050d0a0f23028">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   3 obs. of  3 variables:
 $ name  : chr  "a1" "a2" "b3"
 $ value1: num  23 4 12
 $ value2: num  1 45 5</code></pre>
</div>
</div>
<p>You’ll notice that the <code>value1</code> and <code>value2</code> columns are stored as <code>numeric</code> (i.e.&nbsp;as doubles) and not as <code>integer</code>. There is some inconsistency in R’s characterization of data type. Here, <code>numeric</code> represents double whereas an integer datatype would display <code>integer</code>. For example:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-53_0b2e000e5a59e3e189089b522510d846">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>value2 <span class="ot">&lt;-</span> <span class="fu">c</span>(1L, 45L, 5L)</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>dat    <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(name, value1, value2)</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   3 obs. of  3 variables:
 $ name  : chr  "a1" "a2" "b3"
 $ value1: num  23 4 12
 $ value2: int  1 45 5</code></pre>
</div>
</div>
<p>Like a vector, elements of a data frame can be accessed by their index (aka subscripts). The first index represents the row number and the second index represents the column number. For example, to list the second row of the third column, type:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-54_14117c79912316b665f0f5e2613d38da">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>dat[<span class="dv">2</span>, <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 45</code></pre>
</div>
</div>
<p>If you wish to list all rows for columns one through two, leave the first index blank:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-55_b233eb07c7fc4061cdc010f4905a129f">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>dat[ , <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span> ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  name value1
1   a1     23
2   a2      4
3   b3     12</code></pre>
</div>
</div>
<p>or, if you wish to list the third row for all columns, leave the second index blank:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-56_6ce0e32c4d0c2812783f41b9eb26df43">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>dat[ <span class="dv">3</span> , ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  name value1 value2
3   b3     12      5</code></pre>
</div>
</div>
<p>You can also reference columns by their names if you append the <code>$</code> character to the dataframe object name. For example, to list the values in the column named <code>value2</code>, type:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-57_925f9dd4fccbeb1b13876ca9f9ab7f0b">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>value2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1 45  5</code></pre>
</div>
</div>
<p>Dataframes also have attributes:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-58_e48a01a9aaef450e674781d9d40be45d">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$names
[1] "name"   "value1" "value2"

$class
[1] "data.frame"

$row.names
[1] 1 2 3</code></pre>
</div>
</div>
<p>It’s class is <code>data.frame</code>. The <code>names</code> attribute lists the column names and can be extracted using the <code>names</code> function.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-59_3125cda6655010172f29e7dccdde2955">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "name"   "value1" "value2"</code></pre>
</div>
</div>
<p>The dataframe also has a <code>row.names</code> attribute. Since we did not explicitly define row names, R simply assigned the row number as row names. You can extract the row names using the <code>rownames</code> function.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-60_8212ceee22902b92510c8c307b9beaf1">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1" "2" "3"</code></pre>
</div>
</div>
<p>Finally, to get the dimensions of a dataframe (or a matrix), use the <code>dim()</code> function.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-61_b01944154ec0cb578f0b7632a8edadf7">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 3</code></pre>
</div>
</div>
<p>The first value returned by the function represents the number of rows (3 rows), the second value returned by the function represents the number of columns (3 columns).</p>
</section>
<section id="lists" class="level3" data-number="3.4.4">
<h3 data-number="3.4.4" class="anchored" data-anchor-id="lists"><span class="header-section-number">3.4.4</span> Lists</h3>
<p>A <strong>list</strong> is an ordered set of components stored in a 1D vector. In fact, it’s another kind of vector called a <strong>recursive vector</strong> where each vector element can be of different data type and <em>structure</em>. This implies that each element of a list can hold complex objects such as matrices, data frames and other list objects too! Think of a list as a single column spreadsheet where each cell stores anything from a number, to a three paragraph sentence, to a five column table.</p>
<p>A list is constructed using the <code>list()</code> function. For example, the following list consists of 3 components: a two-column data frame (tagged as component <code>A</code>), a two element logical vector (tagged as component <code>B</code>) and a three element character vector (tagged as component <code>D</code>).</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-62_50629fc0dcf8f89463bdcca8399d4447">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">x =</span> <span class="fu">c</span>(<span class="fl">7.3</span>, <span class="fl">29.4</span>, <span class="fl">29.4</span>, <span class="fl">2.9</span>, <span class="fl">12.3</span>, <span class="fl">7.5</span>, <span class="fl">36.0</span>, <span class="fl">4.8</span>, <span class="fl">18.8</span>, <span class="fl">4.2</span>),</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> <span class="fu">c</span>(<span class="fl">5.2</span>, <span class="fl">26.6</span>, <span class="fl">31.2</span>, <span class="fl">2.2</span>, <span class="fl">13.8</span>, <span class="fl">7.8</span>, <span class="fl">35.2</span>, <span class="fl">8.6</span>, <span class="fl">20.3</span>, <span class="fl">1.1</span>) )</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>D <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"apples"</span>, <span class="st">"oranges"</span>, <span class="st">"round"</span>)</span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>lst <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">A =</span> A, <span class="at">B =</span> B, <span class="at">D =</span> D)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can view each component’s structure using the <code>str()</code> function.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-63_e46567856272e5cc80ac9c4395e724e3">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(lst)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ A:'data.frame':  10 obs. of  2 variables:
  ..$ x: num [1:10] 7.3 29.4 29.4 2.9 12.3 7.5 36 4.8 18.8 4.2
  ..$ y: num [1:10] 5.2 26.6 31.2 2.2 13.8 7.8 35.2 8.6 20.3 1.1
 $ B: logi [1:2] TRUE FALSE
 $ D: chr [1:3] "apples" "oranges" "round"</code></pre>
</div>
</div>
<p>Each component of a list can be extracted using the <code>$</code> symbol followed by that component’s name. For example, to access component <code>A</code> from list <code>lst</code>, type:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-64_85456efda2b3f38786c5995f064f17e4">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>lst<span class="sc">$</span>A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      x    y
1   7.3  5.2
2  29.4 26.6
3  29.4 31.2
4   2.9  2.2
5  12.3 13.8
6   7.5  7.8
7  36.0 35.2
8   4.8  8.6
9  18.8 20.3
10  4.2  1.1</code></pre>
</div>
</div>
<p>You can also access that same component using its <em>numerical index</em>. Since <code>A</code> is the first component in <code>lst</code>, its numerical index is <code>1</code>.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-65_e83ee451b2ac23b36f81c04e00181c95">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>lst[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      x    y
1   7.3  5.2
2  29.4 26.6
3  29.4 31.2
4   2.9  2.2
5  12.3 13.8
6   7.5  7.8
7  36.0 35.2
8   4.8  8.6
9  18.8 20.3
10  4.2  1.1</code></pre>
</div>
</div>
<p>Note that we are using <strong>double brackets</strong> to extract <code>A</code>. In doing so, we are extracting <code>A</code> in its <em>native data format</em> (a data frame in this example). Had we used single brackets, <code>A</code> would have been extracted as a single component <em>list</em> regardless of its native format. The following compares the different data structure outputs between single and double bracketed indices:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-66_c401a26b6f984b96fa4bceb42abf97d9">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(lst[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(lst[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
</div>
<p>To list the names for each component in a list use the <code>names()</code> function:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-67_8a0dd6b06f26cc2b9eb417137bcd088f">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(lst)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "A" "B" "D"</code></pre>
</div>
</div>
<p>Note that components do not require names. For example, we could have created a list as follows (note the omission of <code>A=</code>, <code>B=</code>, etc…):</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-68_84bd6d00f9b83b6d72071839342dbbb1">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>lst.notags <span class="ot">&lt;-</span> <span class="fu">list</span>(A, B, D)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Listing its contents displays bracketed indices instead of component names.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-69_36bc0446db5d6f280fdb4c3bd0ff5dfa">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>lst.notags</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
      x    y
1   7.3  5.2
2  29.4 26.6
3  29.4 31.2
4   2.9  2.2
5  12.3 13.8
6   7.5  7.8
7  36.0 35.2
8   4.8  8.6
9  18.8 20.3
10  4.2  1.1

[[2]]
[1]  TRUE FALSE

[[3]]
[1] "apples"  "oranges" "round"  </code></pre>
</div>
</div>
<p>When lists do not have component names, the <code>names()</code> function will return <code>NULL</code>.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-70_dcb7d89c559e4d2d9c701c39ebd9acd2">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(lst.notags)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<p>It’s usually good practice to assign names to components as these can provide meaningful descriptions of each component.</p>
<p>You’ll find that many functions in R return list objects such as the linear regression model function <code>lm</code>. For example, run a regression analysis for vector elements <code>x</code> and <code>y</code> (in data frame <code>A</code>) and save the output of the regression analysis to an object called <code>M</code>:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-71_fc69cdfff40480c487712af44beb91f9">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">lm</span>( y <span class="sc">~</span> x, A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now let’s verify <code>M</code>’s data structure. The following shows just the first few lines of the output.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-72_49dca57f3f1d81f506ba9c9748cdaf6f">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(M)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-73_a6d5d427e28de41a8ee559cd31348212">
<div class="cell-output cell-output-stdout">
<pre><code>List of 12
 $ coefficients : Named num [1:2] 0.0779 0.991
  ..- attr(*, "names")= chr [1:2] "(Intercept)" "x"
  [list output truncated]
 - attr(*, "class")= chr "lm"
...</code></pre>
</div>
</div>
<p>The contents of the regression model object <code>M</code> consists of 12 components which include various diagnostic statistics, regression coefficients, and residuals. Let’s extract each component’s name:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-74_6d565ac3b74f801cac23bd938f338d79">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(M)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "coefficients"  "residuals"     "effects"       "rank"          "fitted.values" "assign"        "qr"           
 [8] "df.residual"   "xlevels"       "call"          "terms"         "model"        </code></pre>
</div>
</div>
<p>Fortunately, the regression function assigns descriptive names to each of its components making it easier to figure out what most of these components represent. For example, it’s clear that the <code>residuals</code> component stores the residual values from the regression model.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-75_da687c3201139318ecd5858754c4693e">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>M<span class="sc">$</span>residuals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         1          2          3          4          5          6          7          8          9         10 
-2.1119291 -2.6122265  1.9877735 -0.7516888  1.5332525  0.2898782 -0.5525869  3.7654802  1.5919885 -3.1399416 </code></pre>
</div>
</div>
<p>The <code>M</code> list is more complex than the simple list <code>lst</code> we created earlier. In addition to having more components, it stores a <em>wider range</em> of data types and structures. For example, element <code>qr</code> is itself a list!</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-76_49ad9400ebd9deb1feb446d65f63cb07">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(M<span class="sc">$</span>qr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 5
 $ qr   : num [1:10, 1:2] -3.162 0.316 0.316 0.316 0.316 ...
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr [1:10] "1" "2" "3" "4" ...
  .. ..$ : chr [1:2] "(Intercept)" "x"
  ..- attr(*, "assign")= int [1:2] 0 1
 $ qraux: num [1:2] 1.32 1.44
 $ pivot: int [1:2] 1 2
 $ tol  : num 0.0000001
 $ rank : int 2
 - attr(*, "class")= chr "qr"</code></pre>
</div>
</div>
<p>So, if we want to access the element <code>rank</code> in the component <code>qr</code> of list <code>M</code>, we can type:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-77_e542536986c1ec4936c95c1d539be3f6">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>M<span class="sc">$</span>qr<span class="sc">$</span>rank</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>If we want to access <code>rank</code> using indices instead, and noting that <code>qr</code> is the 7<sup>th</sup> component in list <code>M</code> and that <code>rank</code> is the 5th element in list <code>qr</code> we type:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-78_e5f96f6473243e1a487d32800b3d3ea3">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>M[[<span class="dv">7</span>]][[<span class="dv">5</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>This should illustrate the value in assigning names to list components; not only do the double brackets clutter the expression, but finding the element numbers can be daunting in a complex list structure.</p>
</section>
</section>
<section id="coercing-data-from-one-type-to-another" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="coercing-data-from-one-type-to-another"><span class="header-section-number">3.5</span> Coercing data from one type to another</h2>
<p>Data can be coerced from one type to another. For example, to coerce the following vector object from character to numeric, use the <code>as.numeric()</code> function.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-79_73021540001448cd70fd27fea9d33f68">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>y   <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"23.8"</span>, <span class="st">"6"</span>, <span class="st">"100.01"</span>,<span class="st">"6"</span>)</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>y.c <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(y)</span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a>y.c</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  23.80   6.00 100.01   6.00</code></pre>
</div>
</div>
<p>The <code>as.numeric</code> function forces the vector to a double (you could have also used the <code>as.double</code> function). If you convert <code>y</code> to an integer, R will remove all fractional parts of the number.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-80_b6b2b7e409f6829f180a112ed9301dea">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.integer</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  23   6 100   6</code></pre>
</div>
</div>
<p>To convert a number to a character use <code>as.character()</code>.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-81_6853daa4c4032eb6cda26effbdb4ef37">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>numchar <span class="ot">&lt;-</span> <span class="fu">as.character</span>(y.c)</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>numchar</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "23.8"   "6"      "100.01" "6"     </code></pre>
</div>
</div>
<p>You can also coerce a number or character to a factor.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-82_ae7f2ac7702ce8e9b54eb423b5bb9188">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>numfac <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(y)</span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>numfac</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 23.8   6      100.01 6     
Levels: 100.01 23.8 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>charfac <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(y.c)</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>charfac</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 23.8   6      100.01 6     
Levels: 6 23.8 100.01</code></pre>
</div>
</div>
<p>There are many other coercion functions in R, a summary of some the most common ones we’ll be using in this course follows:</p>
<table class="table">
<colgroup>
<col style="width: 41%">
<col style="width: 36%">
</colgroup>
<tbody>
<tr class="odd">
<td>as.character()</td>
<td>Convert to character</td>
</tr>
<tr class="even">
<td>as.numeric() or as.double()</td>
<td>Convert to double</td>
</tr>
<tr class="odd">
<td>as.integer()</td>
<td>Convert to integer</td>
</tr>
<tr class="even">
<td>as.factor()</td>
<td>Convert to factor</td>
</tr>
<tr class="odd">
<td>as.logical()</td>
<td>Convert to a Boolean</td>
</tr>
</tbody>
</table>
<section id="a-word-of-caution-when-converting-from-factors" class="level3" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="a-word-of-caution-when-converting-from-factors"><span class="header-section-number">3.5.1</span> A word of caution when converting from factors</h3>
<p>If you need to coerce a factor whose levels represent characters to a <code>character</code> data type, use the <code>as.character()</code> function.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-83_565a96ea37beec500c1c6de097efc29c">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>char <span class="ot">&lt;-</span> <span class="fu">as.character</span>(charfac)</span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(char)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>Numbers stored as factors can also be coerced back to numbers, but be careful, the following will not produce the expected output:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-84_85933ef1348d92070a25bfa6ffe8b448">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>num <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(numfac)</span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>num</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 3 1 3</code></pre>
</div>
</div>
<p>The output does not look like a numeric representation of the original elements in <code>y</code>. Instead it lists the integers that <em>point</em> to the set of unique <strong>levels</strong> (see the earlier section on <a href="#factors_xtr">factors</a>). To see the <em>unique</em> levels in <code>numfac</code>, type:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-85_3217dc15761e4291273f5522595ddfc9">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(numfac)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "100.01" "23.8"   "6"     </code></pre>
</div>
</div>
<p>There are three unique values in our vector. Recall that the order in which the levels appear in the above output represents the ordered <em>pointer</em> values. So <code>1</code> points to level <code>100.01</code>, <code>2</code> points to level <code>23.8</code>, and <code>3</code> points to level <code>6</code>.</p>
<p>So, to extract the actual values (and not the pointers), you must first convert the factor to character before converting to a numeric vector.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-86_9814eb263d3b8c16c8f50e92a2a31c53">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>num <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(numfac))</span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>num</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  23.80   6.00 100.01   6.00</code></pre>
</div>
</div>
</section>
</section>
<section id="adding-metadata-to-objects" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="adding-metadata-to-objects"><span class="header-section-number">3.6</span> Adding metadata to objects</h2>
<p>Earlier, you were introduced to object attributes. Attributes can be thought of as ancillary information attached to a data object’s header. In other words, it is not part of the set of values stored in the object. If one or more attributes is/are present in the data object, they can be revealed using the <code>attributes</code> command. We already explored the attributes associated with a <code>factor</code> object. For example. <code>a.fact</code> has two attributes: <code>levels</code> and <code>class</code>.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-87_22361ef3e0eaedb4fccbdc00692a24b3">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(a.fact)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$levels
[1] "F" "M" "U"

$class
[1] "factor"</code></pre>
</div>
</div>
<p>If an attribute is not explicitly defined for a data object, then a <code>NULL</code> is returned.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-88_822c3a8538d7a31ddc47223160e87ea2">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<p>You can create your own attribute name, but it’s best to avoid attribute names commonly used in R such as <code>class</code>, <code>dim</code>, <code>dimnames</code>, <code>names</code>, <code>row.names</code>.</p>
<p>An object’s attribute is usually a part of a data object that a user does not need to explictly deal with, but it can be leveraged to store metadata (data documentation). R has a reserved attribute name, <code>comment</code>, that can be used for this purpose. You can add this attribute using the <code>attr</code> function.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-89_5f230f5b78e3ecb7d211ef15dd7f2156">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(a, <span class="st">"comment"</span>)  <span class="ot">&lt;-</span> <span class="st">"a batch of character values"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that R has a special function for the comment attribute which can be used to extract the comment attribute value.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-90_99bcbc09a38488dee9bb0fcd6b94d871">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">comment</span>(a) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a batch of character values"</code></pre>
</div>
</div>
<p>You can also use the <code>comment</code> function to set the comment value.</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-91_d41f10f6cbdc52d2d3225d041f38d138">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">comment</span>(a) <span class="ot">&lt;-</span> <span class="st">"comment added using the comment function"</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="fu">comment</span>(a) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "comment added using the comment function"</code></pre>
</div>
</div>
<p>You can, of course, create your own attribute. For example, to create an attribute named <code>dim.units</code> and assigning it the value <code>"meters"</code> to the object <code>y.c</code> created earlier in this tutorial, type:</p>
<div class="cell" data-hash="data_objects_cache/html/unnamed-chunk-92_5888b6a473115e45140877ae34baba97">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(y.c, <span class="st">"dim.units"</span>) <span class="ot">&lt;-</span>  <span class="st">"meters"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that many R packages will also implement their own set of attribute names. So you should familiarize yourself with the packages used in a worklfow before defining your own attribute name.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./The_R_environment.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The R and RStudio Environments</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./read_write_files.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Reading and Writing Data Files</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Manny Gimond, Creative Commons License <a href="https://creativecommons.org/licenses/by-nc/4.0/"><img src="https://i.creativecommons.org/l/by-nc/4.0/80x15.png" class="img-fluid"></a></div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>